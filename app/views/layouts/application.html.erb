<!DOCTYPE html>
<html lang="<%= I18n.locale %>">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="<%= yield :description %>">

    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <title><%= yield :title %></title>

    <%= stylesheet_link_tag "inter-font", "tailwind", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="text-gray-700 bg-orange-100">
    <div class="lg:flex lg:flex-col lg:h-screen">
      <header class="flex flex-column justify-between items-center px-8 py-4 space-x-4 text-orange-100 bg-gray-700 shadow">
        <span class="overflow-hidden text-xl font-medium tracking-wide"><%= I18n.t(:app_name) %></span>
        <%= button_to "Log out", logout_path, method: :delete, class: "p-2 text-sm font-medium tracking-widest uppercase bg-transparent rounded appearance-none cursor-pointer hover:bg-black hover:bg-opacity-10", form_class: "overflow-hidden" %>
      </header>

      <div class="lg:overflow-y-auto lg:grid lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 lg:h-full">
        <aside class="hidden overflow-y-auto overscroll-contain fixed inset-y-0 z-40 w-4/5 text-gray-700 bg-orange-50 shadow sm:w-2/5 md:w-1/3 lg:block lg:static lg:z-auto lg:w-full">
          <% if content_for?(:actions) %>
            <div class="py-2">
              <%= yield :actions %>
            </div>

            <hr class="border-black border-opacity-10">
          <% end %>

          <nav class="text-sm font-medium">
            <div class="py-3">
              <%= link_to "Home", root_path, class: "block py-3 px-8 hover:bg-black hover:bg-opacity-10" %>
              <%= link_to "Word Counts", word_counts_path, class: "block py-3 px-8 hover:bg-black hover:bg-opacity-10" %>
              <%= link_to "Work Files", work_files_path, class: "block py-3 px-8 hover:bg-black hover:bg-opacity-10" %>
              <%= link_to "Work Types", work_types_path, class: "block py-3 px-8 hover:bg-black hover:bg-opacity-10" %>
            </div>

            <% if Current.user.admin? %>
              <hr class="border-black border-opacity-10">

              <div class="py-3">
                <%= link_to "Roles", roles_path, class: "block py-3 px-8 hover:bg-black hover:bg-opacity-10" %>
                <%= link_to "Users", users_path, class: "block py-3 px-8 hover:bg-black hover:bg-opacity-10" %>
              </div>
            <% end %>
          </nav>
        </aside>

        <main class="lg:overflow-y-auto lg:col-span-3 xl:col-span-4 2xl:col-span-5">
          <div class="p-8 space-y-8">
            <% if flash.any? %>
              <div class="space-y-4">
                <% if flash.alert %>
                  <div class="p-4 font-medium text-red-100 bg-red-700 rounded shadow">
                    <%= flash.alert %>
                  </div>
                <% end %>

                <% if flash.notice %>
                  <div class="p-4 font-medium text-green-100 bg-green-700 rounded shadow">
                    <%= flash.notice %>
                  </div>
                <% end %>
              </div>
            <% end %>

            <%= yield %>
          </div>
        </main>
      </div>
    </div>
  </body>
</html>

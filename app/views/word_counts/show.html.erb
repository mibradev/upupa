<% page.heading "Word Count" %>

<% page.actions do |actions| %>
  <%= actions.edit edit_word_count_path(@word_count) %>
  <%= actions.destroy @word_count %>
  <%= actions.index word_counts_path %>
<% end %>

<%= page.description_list do |description_list| %>
  <%= description_list.group do |group| %>
    <%= group.term "Day" %>
    <%= group.description @word_count.date.strftime("%A") %>
  <% end %>

  <%= description_list.group do |group| %>
    <%= group.term "Date" %>
    <%= group.description @word_count.date %>
  <% end %>

  <%= description_list.group do |group| %>
    <%= group.term "Total" %>
    <%= group.description number_with_precision(@word_count.word_count_files.sum(:total), precision: 2) %>
  <% end %>

  <%= description_list.group do |group| %>
    <%= group.term "Notes" %>
    <%= group.description @word_count.notes %>
  <% end %>
<% end %>

<%= page.section do |section| %>
  <%= section.header do |header| %>
    <%= header.heading "Word count files" %>

    <%= header.actions do |actions| %>
      <%= actions.new new_word_count_word_count_file_path(@word_count) %>
    <% end %>
  <% end %>

  <% if @word_count.word_count_files.load.any? %>
    <%= render "word_count_files/table", word_count_files: @word_count.word_count_files %>
  <% end %>
<% end %>
